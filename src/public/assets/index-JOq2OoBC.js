var $t=Object.defineProperty;var kt=(t,e,n)=>e in t?$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>kt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function C(){}function mt(t){return t()}function at(){return Object.create(null)}function W(t){t.forEach(mt)}function _t(t){return typeof t=="function"}function st(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ct(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function _(){return k(" ")}function gt(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qt(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function G(t,e,n){t.classList.toggle(e,!!n)}let U;function K(t){U=t}function Et(){if(!U)throw new Error("Function called outside component initialization");return U}function vt(t){Et().$$.on_mount.push(t)}const F=[],ut=[];let j=[];const ft=[],yt=Promise.resolve();let tt=!1;function wt(){tt||(tt=!0,yt.then(bt))}function V(){return wt(),yt}function et(t){j.push(t)}const Z=new Set;let B=0;function bt(){if(B!==0)return;const t=U;do{try{for(;B<F.length;){const e=F[B];B++,K(e),Pt(e.$$)}}catch(e){throw F.length=0,B=0,e}for(K(null),F.length=0,B=0;ut.length;)ut.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];Z.has(n)||(Z.add(n),n())}j.length=0}while(F.length);for(;ft.length;)ft.pop()();tt=!1,Z.clear(),K(t)}function Pt(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}function Lt(t){const e=[],n=[];j.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),j=e}const Q=new Set;let Mt;function nt(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function dt(t,e,n,l){if(t&&t.o){if(Q.has(t))return;Q.add(t),Mt.c.push(()=>{Q.delete(t)}),t.o(e)}}function pt(t){t&&t.c()}function lt(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),et(()=>{const r=t.$$.on_mount.map(mt).filter(_t);t.$$.on_destroy?t.$$.on_destroy.push(...r):W(r),t.$$.on_mount=[]}),s.forEach(et)}function rt(t,e){const n=t.$$;n.fragment!==null&&(Lt(n.after_update),W(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(t,e){t.$$.dirty[0]===-1&&(F.push(t),wt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(t,e,n,l,s,r,i=null,o=[-1]){const u=U;K(t);const a=t.$$={fragment:null,ctx:[],props:r,update:C,not_equal:s,bound:at(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:at(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let m=!1;if(a.ctx=n?n(t,e.props||{},(h,y,...b)=>{const p=b.length?b[0]:y;return a.ctx&&s(a.ctx[h],a.ctx[h]=p)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](p),m&&St(t,h)),y}):[],a.update(),m=!0,W(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const h=qt(e.target);a.fragment&&a.fragment.l(h),h.forEach(g)}else a.fragment&&a.fragment.c();e.intro&&nt(t.$$.fragment),lt(t,e.target,e.anchor),bt()}K(u)}class ot{constructor(){Y(this,"$$");Y(this,"$$set")}$destroy(){rt(this,1),this.$destroy=C}$on(e,n){if(!_t(n))return C;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xt);async function zt(){try{const t=await fetch("/api/stats");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Failed to fetch stats:",t),t}}async function It(){try{const t=await fetch("/api/health");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Failed to fetch health:",t),t}}function ht(t){if(t<60)return`${t}s`;if(t<3600)return`${Math.floor(t/60)}m`;if(t<86400){const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${e}h ${n}m`}else{const e=Math.floor(t/86400),n=Math.floor(t%86400/3600);return`${e}d ${n}h`}}async function Tt(){try{const t=await fetch("/api/crypto-prices");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Failed to fetch crypto prices:",t),t}}function J(t){return t==null?"N/A":`$${t.toFixed(2)}`}function At(t){var x;let e,n,l,s,r,i=(((x=t[0].total_gifs)==null?void 0:x.toLocaleString())||"0")+"",o,u,a,m,h,y,b=(t[0].disk_usage_formatted||"0.00 MB")+"",p,E,P,L,M,S,T=(t[0].storage_path||"N/A")+"",N;return{c(){e=f("dl"),n=f("div"),l=f("dt"),l.textContent="Total GIFs",s=_(),r=f("dd"),o=k(i),u=_(),a=f("div"),m=f("dt"),m.textContent="Disk Usage",h=_(),y=f("dd"),p=k(b),E=_(),P=f("div"),L=f("dt"),L.textContent="Storage Path",M=_(),S=f("dd"),N=k(T),d(l,"class","svelte-y9p609"),d(r,"class","svelte-y9p609"),d(n,"class","stat-item svelte-y9p609"),d(m,"class","svelte-y9p609"),d(y,"class","svelte-y9p609"),d(a,"class","stat-item svelte-y9p609"),d(L,"class","svelte-y9p609"),d(S,"class","path svelte-y9p609"),d(P,"class","stat-item svelte-y9p609"),d(e,"class","svelte-y9p609")},m($,A){v($,e,A),c(e,n),c(n,l),c(n,s),c(n,r),c(r,o),c(n,u),c(e,a),c(a,m),c(a,h),c(a,y),c(y,p),c(a,E),c(e,P),c(P,L),c(P,M),c(P,S),c(S,N)},p($,A){var O;A&1&&i!==(i=(((O=$[0].total_gifs)==null?void 0:O.toLocaleString())||"0")+"")&&I(o,i),A&1&&b!==(b=($[0].disk_usage_formatted||"0.00 MB")+"")&&I(p,b),A&1&&T!==(T=($[0].storage_path||"N/A")+"")&&I(N,T)},d($){$&&g(e)}}}function Ot(t){let e,n,l,s,r,i,o;return{c(){e=f("div"),n=k("Error: "),l=k(t[2]),s=_(),r=f("button"),r.textContent="Retry",d(e,"class","error svelte-y9p609"),d(r,"class","svelte-y9p609")},m(u,a){v(u,e,a),c(e,n),c(e,l),v(u,s,a),v(u,r,a),i||(o=gt(r,"click",t[3]),i=!0)},p(u,a){a&4&&I(l,u[2])},d(u){u&&(g(e),g(s),g(r)),i=!1,o()}}}function Nt(t){let e;return{c(){e=f("div"),e.textContent="Loading...",d(e,"class","loading svelte-y9p609")},m(n,l){v(n,e,l)},p:C,d(n){n&&g(e)}}}function Ht(t){let e,n,l;function s(o,u){if(o[1]&&!o[0])return Nt;if(o[2])return Ot;if(o[0])return At}let r=s(t),i=r&&r(t);return{c(){e=f("section"),n=f("h2"),n.textContent="Statistics",l=_(),i&&i.c(),d(n,"class","svelte-y9p609"),d(e,"class","stats svelte-y9p609")},m(o,u){v(o,e,u),c(e,n),c(e,l),i&&i.m(e,null)},p(o,[u]){r===(r=s(o))&&i?i.p(o,u):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(e,null)))},i:C,o:C,d(o){o&&g(e),i&&i.d()}}}function Bt(t,e,n){let l=null,s=!0,r=null;async function i(){n(1,s=!0),n(2,r=null);try{n(0,l=await zt())}catch(o){n(2,r=o.message)}finally{n(1,s=!1)}}return vt(()=>{i();const o=setInterval(i,3e4);return()=>clearInterval(o)}),[l,s,r,i]}class Ft extends ot{constructor(e){super(),it(this,e,Bt,Ht,st,{})}}function jt(t){let e,n,l,s,r,i,o,u,a,m,h=ht(t[0].uptime||0)+"",y,b,p,E,P,L,M,S=J(t[3])+"",T,N,x,$,A,O,H,R=J(t[4])+"",X;function ct(w,z){return w[0].status==="ok"?Dt:Rt}let D=ct(t),q=D(t);return{c(){e=f("dl"),n=f("div"),l=f("dt"),l.textContent="Status",s=_(),r=f("dd"),q.c(),i=_(),o=f("div"),u=f("dt"),u.textContent="Uptime",a=_(),m=f("dd"),y=k(h),b=_(),p=f("div"),E=f("dt"),E.innerHTML=`<svg class="crypto-icon svelte-1d26i2q" viewBox="0 0 4091.27 4091.73" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path fill="#F7931A" fill-rule="nonzero" d="M4030.06 2540.77c-273.24,1096.01 -1383.32,1763.02 -2479.46,1489.71 -1095.68,-273.24 -1762.69,-1383.39 -1489.33,-2479.31 273.12,-1096.13 1383.2,-1763.19 2479,-1489.95 1096.06,273.24 1763.03,1383.51 1489.76,2479.57l0.02 -0.02z"></path><path fill="white" fill-rule="nonzero" d="M2947.77 1754.38c40.72,-272.26 -166.56,-418.61 -450,-516.24l91.95 -368.8 -224.5 -55.94 -89.51 359.09c-59.02,-14.72 -119.63,-28.59 -179.87,-42.34l90.16 -361.46 -224.36 -55.94 -92 368.68c-48.84,-11.12 -96.81,-22.11 -143.35,-33.69l0.26 -1.16 -309.59 -77.31 -59.72 239.78c0,0 166.56,38.18 163.05,40.53 90.91,22.69 107.35,82.87 104.62,130.57l-104.74 420.15c6.26,1.59 14.38,3.89 23.34,7.49 -7.49,-1.86 -15.46,-3.89 -23.73,-5.87l-146.81 588.57c-11.11,27.62 -39.31,69.07 -102.87,53.33 2.25,3.26 -163.17,-40.72 -163.17,-40.72l-111.46 256.98 292.15 72.83c54.35,13.63 107.61,27.89 160.06,41.3l-92.9 373.03 224.24 55.94 92 -369.07c61.26,16.63 120.71,31.97 178.91,46.43l-91.69 367.33 224.51 55.94 92.89 -372.33c382.82,72.45 670.67,43.24 791.83,-303.02 97.63,-278.78 -4.86,-439.58 -206.26,-544.44 146.69,-33.83 257.18,-130.31 286.64,-329.61l-0.07 -0.05zm-512.93 719.26c-69.38,278.78 -538.76,128.08 -690.94,90.29l123.28 -494.2c152.17,37.99 640.17,113.17 567.67,403.91zm69.43 -723.3c-63.29,253.58 -453.96,124.75 -580.69,93.16l111.77 -448.21c126.73,31.59 534.85,90.55 468.94,355.05l-0.02 0z"></path></svg>
          Bitcoin price`,P=_(),L=f("dd"),M=f("span"),T=k(S),N=_(),x=f("div"),$=f("dt"),$.innerHTML=`<svg class="crypto-icon svelte-1d26i2q" viewBox="0 0 784.37 1277.39" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><polygon fill="#343434" fill-rule="nonzero" points="392.07,0 383.5,29.11 383.5,873.74 392.07,882.29 784.13,650.54 "></polygon><polygon fill="#8C8C8C" fill-rule="nonzero" points="392.07,0 -0,650.54 392.07,882.29 392.07,472.33 "></polygon><polygon fill="#3C3C3B" fill-rule="nonzero" points="392.07,956.52 387.24,962.41 387.24,1263.28 392.07,1277.38 784.37,724.89 "></polygon><polygon fill="#8C8C8C" fill-rule="nonzero" points="392.07,1277.38 392.07,956.52 -0,724.89 "></polygon><polygon fill="#141414" fill-rule="nonzero" points="392.07,882.29 784.13,650.54 392.07,472.33 "></polygon><polygon fill="#393939" fill-rule="nonzero" points="0,650.54 392.07,882.29 392.07,472.33 "></polygon></svg>
          Ethereum price`,A=_(),O=f("dd"),H=f("span"),X=k(R),d(l,"class","svelte-1d26i2q"),d(r,"class","status svelte-1d26i2q"),d(n,"class","stat-item svelte-1d26i2q"),d(u,"class","svelte-1d26i2q"),d(m,"class","svelte-1d26i2q"),d(o,"class","stat-item svelte-1d26i2q"),d(E,"class","svelte-1d26i2q"),d(M,"class","price-roll svelte-1d26i2q"),G(M,"animating",t[5]),d(L,"class","price-container svelte-1d26i2q"),d(p,"class","stat-item svelte-1d26i2q"),d($,"class","svelte-1d26i2q"),d(H,"class","price-roll svelte-1d26i2q"),G(H,"animating",t[6]),d(O,"class","price-container svelte-1d26i2q"),d(x,"class","stat-item svelte-1d26i2q"),d(e,"class","svelte-1d26i2q")},m(w,z){v(w,e,z),c(e,n),c(n,l),c(n,s),c(n,r),q.m(r,null),c(n,i),c(e,o),c(o,u),c(o,a),c(o,m),c(m,y),c(o,b),c(e,p),c(p,E),c(p,P),c(p,L),c(L,M),c(M,T),c(p,N),c(e,x),c(x,$),c(x,A),c(x,O),c(O,H),c(H,X)},p(w,z){D===(D=ct(w))&&q?q.p(w,z):(q.d(1),q=D(w),q&&(q.c(),q.m(r,null))),z&1&&h!==(h=ht(w[0].uptime||0)+"")&&I(y,h),z&8&&S!==(S=J(w[3])+"")&&I(T,S),z&32&&G(M,"animating",w[5]),z&16&&R!==(R=J(w[4])+"")&&I(X,R),z&64&&G(H,"animating",w[6])},d(w){w&&g(e),q.d()}}}function Kt(t){let e,n,l,s,r,i,o;return{c(){e=f("div"),n=k("Error: "),l=k(t[2]),s=_(),r=f("button"),r.textContent="Retry",d(e,"class","error svelte-1d26i2q"),d(r,"class","svelte-1d26i2q")},m(u,a){v(u,e,a),c(e,n),c(e,l),v(u,s,a),v(u,r,a),i||(o=gt(r,"click",t[7]),i=!0)},p(u,a){a&4&&I(l,u[2])},d(u){u&&(g(e),g(s),g(r)),i=!1,o()}}}function Ut(t){let e;return{c(){e=f("div"),e.textContent="Loading...",d(e,"class","loading svelte-1d26i2q")},m(n,l){v(n,e,l)},p:C,d(n){n&&g(e)}}}function Rt(t){let e=(t[0].status||"unknown")+"",n;return{c(){n=k(e)},m(l,s){v(l,n,s)},p(l,s){s&1&&e!==(e=(l[0].status||"unknown")+"")&&I(n,e)},d(l){l&&g(n)}}}function Dt(t){let e,n;return{c(){e=f("span"),e.textContent="OK",n=f("span"),n.textContent="200",d(e,"class","status-ok svelte-1d26i2q"),d(n,"class","status-code svelte-1d26i2q")},m(l,s){v(l,e,s),v(l,n,s)},p:C,d(l){l&&(g(e),g(n))}}}function Gt(t){let e,n,l;function s(o,u){if(o[1]&&!o[0])return Ut;if(o[2])return Kt;if(o[0])return jt}let r=s(t),i=r&&r(t);return{c(){e=f("section"),n=f("h2"),n.textContent="Health Status",l=_(),i&&i.c(),d(n,"class","svelte-1d26i2q"),d(e,"class","health svelte-1d26i2q")},m(o,u){v(o,e,u),c(e,n),c(e,l),i&&i.m(e,null)},p(o,[u]){r===(r=s(o))&&i?i.p(o,u):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(e,null)))},i:C,o:C,d(o){o&&g(e),i&&i.d()}}}function Vt(t,e,n){let l=null,s=!0,r=null,i=null,o=null,u=0,a=0,m=!1,h=!1;async function y(){n(1,s=!0),n(2,r=null);try{n(0,l=await It())}catch(p){n(2,r=p.message)}finally{n(1,s=!1)}}async function b(){try{const p=await Tt();p.bitcoin!==null&&p.bitcoin!==i&&(n(5,m=!1),await V(),u+=1,n(3,i=p.bitcoin),await V(),n(5,m=!0),setTimeout(()=>{n(5,m=!1)},300)),p.ethereum!==null&&p.ethereum!==o&&(n(6,h=!1),await V(),a+=1,n(4,o=p.ethereum),await V(),n(6,h=!0),setTimeout(()=>{n(6,h=!1)},300))}catch(p){console.error("Failed to load crypto prices:",p)}}return vt(()=>{y(),b();const p=setInterval(y,1e4),E=setInterval(b,15e3);return()=>{clearInterval(p),clearInterval(E)}}),[l,s,r,i,o,m,h,y]}class Jt extends ot{constructor(e){super(),it(this,e,Vt,Gt,st,{})}}function Qt(t){let e,n,l,s,r,i,o,u;return r=new Ft({}),o=new Jt({}),{c(){e=f("main"),n=f("header"),n.innerHTML='<h1 class="svelte-1d5rxi1">gronka</h1>',l=_(),s=f("div"),pt(r.$$.fragment),i=_(),pt(o.$$.fragment),d(n,"class","svelte-1d5rxi1"),d(s,"class","content svelte-1d5rxi1"),d(e,"class","svelte-1d5rxi1")},m(a,m){v(a,e,m),c(e,n),c(e,l),c(e,s),lt(r,s,null),c(s,i),lt(o,s,null),u=!0},p:C,i(a){u||(nt(r.$$.fragment,a),nt(o.$$.fragment,a),u=!0)},o(a){dt(r.$$.fragment,a),dt(o.$$.fragment,a),u=!1},d(a){a&&g(e),rt(r),rt(o)}}}class Wt extends ot{constructor(e){super(),it(this,e,null,Qt,st,{})}}new Wt({target:document.getElementById("app")});
